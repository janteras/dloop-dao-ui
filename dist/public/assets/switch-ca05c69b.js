import{cp as U,cq as J,cr as me,cs as Z,ct as be,cu as ye,cv as Q,cw as G,cx as ge,cy as N,cz as he,cA as we,cB as W,cC as R,a9 as ke,cD as ve,cE as Ce,ab as ee,ac as te,ad as S,ae as ne,cF as xe,cG as E,r as w,V as P,cH as Ne,S as ae,j as C,h as z}from"./index-e1be7c10.js";import{f as Ie,t as Te,g as Pe,B as Be,a as K,P as I,b as j,e as Se}from"./vote-helpers-5e69d632.js";import{c as Ee,u as Ae,P as oe,b as Me}from"./contracts-3445139a.js";import{a as De,u as Fe}from"./index-c43f57c1.js";const _e=new Map,$e=new Map;function qe(e){const n=(o,r)=>({clear:()=>r.delete(o),get:()=>r.get(o),set:c=>r.set(o,c)}),t=n(e,_e),a=n(e,$e);return{clear:()=>{t.clear(),a.clear()},promise:t,response:a}}async function Ue(e,{cacheKey:n,cacheTime:t=Number.POSITIVE_INFINITY}){const a=qe(n),o=a.response.get();if(o&&t>0&&new Date().getTime()-o.created.getTime()<t)return o.data;let r=a.promise.get();r||(r=e(),a.promise.set(r));try{const c=await r;return a.response.set({created:new Date,data:c}),c}finally{a.promise.clear()}}const Re=e=>`blockNumber.${e}`;async function He(e,{cacheTime:n=e.cacheTime}={}){const t=await Ue(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Re(e.uid),cacheTime:n});return BigInt(t)}function Ve(e,{args:n,eventName:t}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...t?{args:n,eventName:t}:{}}}async function re(e,{blockHash:n,blockNumber:t,blockTag:a,hash:o,index:r}){var s,u,p;const c=a||"latest",l=t!==void 0?U(t):void 0;let i=null;if(o?i=await e.request({method:"eth_getTransactionByHash",params:[o]},{dedupe:!0}):n?i=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[n,U(r)]},{dedupe:!0}):(l||c)&&(i=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[l||c,U(r)]},{dedupe:!!l})),!i)throw new J({blockHash:n,blockNumber:t,blockTag:c,hash:o,index:r});return(((p=(u=(s=e.chain)==null?void 0:s.formatters)==null?void 0:u.transaction)==null?void 0:p.format)||Ie)(i)}const Ge={"0x0":"reverted","0x1":"success"};function Le(e){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>Ve(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?me(e.transactionIndex):null,status:e.status?Ge[e.status]:null,type:e.type?Te[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}async function Y(e,{hash:n}){var o,r,c;const t=await e.request({method:"eth_getTransactionReceipt",params:[n]},{dedupe:!0});if(!t)throw new Z({hash:n});return(((c=(r=(o=e.chain)==null?void 0:o.formatters)==null?void 0:r.transactionReceipt)==null?void 0:c.format)||Le)(t)}class je extends be{constructor({value:n}){super(`Number \`${n}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Oe(e,n){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new je({value:e});let[t,a="0"]=e.split(".");const o=t.startsWith("-");if(o&&(t=t.slice(1)),a=a.replace(/(0+)$/,""),n===0)Math.round(+`.${a}`)===1&&(t=`${BigInt(t)+1n}`),a="";else if(a.length>n){const[r,c,l]=[a.slice(0,n-1),a.slice(n-1,n),a.slice(n)],i=Math.round(+`${c}.${l}`);i>9?a=`${BigInt(r)+BigInt(1)}0`.padStart(r.length+1,"0"):a=`${r}${i}`,a.length>n&&(a=a.slice(1),t=`${BigInt(t)+1n}`),a=a.slice(0,n)}else a=a.padEnd(n,"0");return BigInt(`${o?"-":""}${t}${a}`)}function Qe(e,n="wei"){return Oe(e,ye[n])}const H=new Map,X=new Map;let We=0;function L(e,n,t){const a=++We,o=()=>H.get(e)||[],r=()=>{const s=o();H.set(e,s.filter(u=>u.id!==a))},c=()=>{const s=o();if(!s.some(p=>p.id===a))return;const u=X.get(e);s.length===1&&u&&u(),r()},l=o();if(H.set(e,[...l,{id:a,fns:n}]),l&&l.length>0)return c;const i={};for(const s in n)i[s]=(...u)=>{var b,m;const p=o();if(p.length!==0)for(const y of p)(m=(b=y.fns)[s])==null||m.call(b,...u)};const d=t(i);return typeof d=="function"&&X.set(e,d),c}function ze(e,{emitOnBegin:n,initialWaitTime:t,interval:a}){let o=!0;const r=()=>o=!1;return(async()=>{let l;n&&(l=await e({unpoll:r}));const i=await(t==null?void 0:t(l))??a;await Q(i);const d=async()=>{o&&(await e({unpoll:r}),await Q(a),d())};d()})(),r}function Ke(e,{emitOnBegin:n=!1,emitMissed:t=!1,onBlockNumber:a,onError:o,poll:r,pollingInterval:c=e.pollingInterval}){const l=(()=>typeof r<"u"?r:!(e.transport.type==="webSocket"||e.transport.type==="fallback"&&e.transport.transports[0].config.type==="webSocket"))();let i;return l?(()=>{const u=G(["watchBlockNumber",e.uid,n,t,c]);return L(u,{onBlockNumber:a,onError:o},p=>ze(async()=>{var b;try{const m=await N(e,He,"getBlockNumber")({cacheTime:0});if(i){if(m===i)return;if(m-i>1&&t)for(let y=i+1n;y<m;y++)p.onBlockNumber(y,i),i=y}(!i||m>i)&&(p.onBlockNumber(m,i),i=m)}catch(m){(b=p.onError)==null||b.call(p,m)}},{emitOnBegin:n,interval:c}))})():(()=>{const u=G(["watchBlockNumber",e.uid,n,t]);return L(u,{onBlockNumber:a,onError:o},p=>{let b=!0,m=()=>b=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const h=e.transport.transports.find(g=>g.config.type==="webSocket");return h?h.value:e.transport}return e.transport})(),{unsubscribe:v}=await y.subscribe({params:["newHeads"],onData(h){var f;if(!b)return;const g=ge((f=h.result)==null?void 0:f.number);p.onBlockNumber(g,i),i=g},onError(h){var g;(g=p.onError)==null||g.call(p,h)}});m=v,b||m()}catch(y){o==null||o(y)}})(),()=>m()})})()}async function Ye(e,{confirmations:n=1,hash:t,onReplaced:a,pollingInterval:o=e.pollingInterval,retryCount:r=6,retryDelay:c=({count:i})=>~~(1<<i)*200,timeout:l=18e4}){const i=G(["waitForTransactionReceipt",e.uid,t]);let d,s,u,p=!1,b,m;const{promise:y,resolve:v,reject:h}=he(),g=l?setTimeout(()=>{m(),b(),h(new we({hash:t}))},l):void 0;return b=L(i,{onReplaced:a,resolve:v,reject:h},f=>{m=N(e,Ke,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:o,async onBlockNumber(A){const M=F=>{clearTimeout(g),m(),F(),b()};let D=A;if(!p)try{if(u){if(n>1&&(!u.blockNumber||D-u.blockNumber+1n<n))return;M(()=>f.resolve(u));return}if(d||(p=!0,await W(async()=>{d=await N(e,re,"getTransaction")({hash:t}),d.blockNumber&&(D=d.blockNumber)},{delay:c,retryCount:r}),p=!1),u=await N(e,Y,"getTransactionReceipt")({hash:t}),n>1&&(!u.blockNumber||D-u.blockNumber+1n<n))return;M(()=>f.resolve(u))}catch(F){if(F instanceof J||F instanceof Z){if(!d){p=!1;return}try{s=d,p=!0;const $=await W(()=>N(e,Pe,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:c,retryCount:r,shouldRetry:({error:x})=>x instanceof Be});p=!1;const k=$.transactions.find(({from:x,nonce:fe})=>x===s.from&&fe===s.nonce);if(!k||(u=await N(e,Y,"getTransactionReceipt")({hash:k.hash}),n>1&&(!u.blockNumber||D-u.blockNumber+1n<n)))return;let q="replaced";k.to===s.to&&k.value===s.value&&k.input===s.input?q="repriced":k.from===k.to&&k.value===0n&&(q="cancelled"),M(()=>{var x;(x=f.onReplaced)==null||x.call(f,{reason:q,replacedTransaction:s,transaction:k,transactionReceipt:u}),f.resolve(u)})}catch($){M(()=>f.reject($))}}else M(()=>f.reject(F))}}})}),y}async function Xe(e,n){const{chainId:t,timeout:a=0,...o}=n,r=e.getClient({chainId:t}),l=await R(r,Ye,"waitForTransactionReceipt")({...o,timeout:a});if(l.status==="reverted"){const d=await R(r,re,"getTransaction")({hash:l.transactionHash}),u=await R(r,ve,"call")({...d,data:d.input,gasPrice:d.type!=="eip1559"?d.gasPrice:void 0,maxFeePerGas:d.type==="eip1559"?d.maxFeePerGas:void 0,maxPriorityFeePerGas:d.type==="eip1559"?d.maxPriorityFeePerGas:void 0}),p=u!=null&&u.data?ke(`0x${u.data.substring(138)}`):"unknown reason";throw new Error(p)}return{...l,chainId:r.chain.id}}function Je(e,n={}){return{async queryFn({queryKey:t}){const a=n.abi;if(!a)throw new Error("abi is required");const{functionName:o,scopeKey:r,...c}=t[1],l=(()=>{const i=t[1];if(i.address)return{address:i.address};if(i.code)return{code:i.code};throw new Error("address or code is required")})();if(!o)throw new Error("functionName is required");return Ce(e,{abi:a,functionName:o,args:c.args,...l,...c})},queryKey:Ze(n)}}function Ze(e={}){const{abi:n,...t}=e;return["readContract",ee(t)]}function et(e,n={}){return{async queryFn({queryKey:t}){const{hash:a,...o}=t[1];if(!a)throw new Error("hash is required");return Xe(e,{...o,onReplaced:n.onReplaced,hash:a})},queryKey:tt(n)}}function tt(e={}){const{onReplaced:n,...t}=e;return["waitForTransactionReceipt",ee(t)]}function V(e={}){const{abi:n,address:t,functionName:a,query:o={}}=e,r=e.code,c=te(e),l=S({config:c}),i=Je(c,{...e,chainId:e.chainId??l}),d=!!((t||r)&&n&&a&&(o.enabled??!0));return ne({...o,...i,enabled:d,structuralSharing:o.structuralSharing??xe})}function O(e={}){const{hash:n,query:t={}}=e,a=te(e),o=S({config:a}),r=et(a,{...e,chainId:e.chainId??o}),c=!!(n&&(t.enabled??!0));return ne({...t,...r,enabled:c})}const nt="0x8dde1922d5f772890f169714faceef9551791caf",B=[{name:"getProposal",type:"function",stateMutability:"view",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{type:"tuple",components:[{name:"id",type:"uint256"},{name:"proposer",type:"address"},{name:"description",type:"string"},{name:"proposalType",type:"uint8"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"forVotes",type:"uint256"},{name:"againstVotes",type:"uint256"},{name:"executed",type:"bool"},{name:"canceled",type:"bool"},{name:"startBlock",type:"uint256"},{name:"endBlock",type:"uint256"}]}]},{name:"getProposalCount",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"getProposalsInRange",type:"function",stateMutability:"view",inputs:[{name:"start",type:"uint256"},{name:"end",type:"uint256"}],outputs:[{type:"tuple[]",components:[{name:"id",type:"uint256"},{name:"proposer",type:"address"},{name:"description",type:"string"},{name:"proposalType",type:"uint8"},{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"forVotes",type:"uint256"},{name:"againstVotes",type:"uint256"},{name:"executed",type:"bool"},{name:"canceled",type:"bool"},{name:"startBlock",type:"uint256"},{name:"endBlock",type:"uint256"}]}]},{name:"state",type:"function",stateMutability:"view",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{type:"uint8"}]},{name:"hasVoted",type:"function",stateMutability:"view",inputs:[{name:"proposalId",type:"uint256"},{name:"voter",type:"address"}],outputs:[{type:"bool"}]},{name:"propose",type:"function",stateMutability:"nonpayable",inputs:[{name:"token",type:"address"},{name:"amount",type:"uint256"},{name:"description",type:"string"},{name:"proposalType",type:"uint8"}],outputs:[{type:"uint256"}]},{name:"castVote",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"},{name:"support",type:"bool"}],outputs:[{type:"uint256"}]},{name:"execute",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{type:"bool"}]},{name:"cancel",type:"function",stateMutability:"nonpayable",inputs:[{name:"proposalId",type:"uint256"}],outputs:[{type:"bool"}]},{name:"quorum",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"votingPeriod",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"votingDelay",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}],at=[{name:"name",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{name:"symbol",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{name:"decimals",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{name:"totalSupply",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"balanceOf",type:"function",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{name:"transfer",type:"function",stateMutability:"nonpayable",inputs:[{name:"to",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{name:"allowance",type:"function",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{name:"approve",type:"function",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{name:"transferFrom",type:"function",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"event",name:"Transfer",inputs:[{name:"from",type:"address",indexed:!0},{name:"to",type:"address",indexed:!0},{name:"amount",type:"uint256",indexed:!1}],anonymous:!1},{type:"event",name:"Approval",inputs:[{name:"owner",type:"address",indexed:!0},{name:"spender",type:"address",indexed:!0},{name:"value",type:"uint256",indexed:!1}],anonymous:!1}],T={address:nt,abi:B,chainId:E.id};function ht(e){return{address:e,abi:at,chainId:E.id}}function ot(e,n){let t=I.Active;n!==void 0?t=n:e.executed?t=I.Executed:e.canceled&&(t=I.Canceled);const a=e.createdAt?Number(e.createdAt)*1e3:Date.now()-864e5,o=e.votingEnds?Number(e.votingEnds)*1e3:Date.now()+864e5,r=e.amount?Number(Ne(e.amount.toString())):0,{forVotes:c,againstVotes:l}=Se(e);return{id:Number(e.id),proposer:e.proposer,description:e.description||"",proposalType:Number(e.proposalType),token:e.token||e.assetAddress,amount:r,forVotes:c,againstVotes:l,executed:!!e.executed,canceled:!!e.canceled,state:t,createdAt:new Date(a),votingEnds:new Date(o)}}function wt(e={}){const{limit:n=10,offset:t=0}=e,o=S()===E.id,{data:r,isLoading:c,error:l}=V({abi:B,address:T.address,functionName:"getProposalCount",query:{enabled:o,retry:1,retryDelay:500}}),{data:i,isLoading:d}=V({abi:[{name:"proposalCount",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{name:"getProposalsCount",type:"function",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]}],address:T.address,functionName:"proposalCount",query:{enabled:o&&!r,retry:1}});let s=0;r?s=Number(r):i?s=Number(i):l&&(console.warn("Could not get proposal count, using default fallback value",l),s=50);const u=Math.max(0,s-t-n),p=Math.max(0,s-t),{data:b,isLoading:m,error:y,refetch:v}=V({abi:B,address:T.address,functionName:"getProposalsInRange",args:[BigInt(u),BigInt(p)],query:{enabled:o&&s>0&&p>u,retry:2,retryDelay:1e3}});y&&s>0&&console.info("Range query failed, using fallback data instead");const g=[];if(b&&Array.isArray(b))for(const f of b){const A=ot(f);g.push(A)}if(g.length===0&&y){console.warn("Creating placeholder proposals as contract calls failed");for(let f=1;f<=5;f++)g.push({id:f,proposer:"0x3639D1F746A977775522221f53D0B1eA5749b8b9",description:`Placeholder proposal ${f} for testing. This is generated because actual contract calls failed.`,proposalType:f%2===0?K.Investment:K.Divestment,token:"0xd093d7331448766923fe7ab270a9f6bce63cefda",amount:1e4*f,forVotes:100*f,againstVotes:50*f,executed:!1,canceled:!1,state:f%3===0?I.Active:f%3===1?I.Succeeded:I.Defeated,createdAt:new Date(Date.now()-864e5*f),votingEnds:new Date(Date.now()+864e5*(f%3===0?1:-1))})}return{proposals:g.reverse(),totalCount:s,isLoading:c||d||m,error:g.length===0&&y?"Error loading proposals: "+String(y):null,refetch:v,usingFallback:g.length>0&&y}}function kt(){const n=S()===E.id,{writeContractAsync:t,isPending:a,error:o,data:r}=j(),{isLoading:c,isSuccess:l}=O({hash:r});return{castVote:w.useCallback(async(d,s)=>{if(!n)throw new Error("Please connect to Sepolia network to vote on proposals");try{const u=await t({abi:B,address:T.address,functionName:"castVote",args:[BigInt(d),s]});return P.success(`Vote ${s?"for":"against"} proposal submitted!`),u}catch(u){throw console.error("Error voting on proposal:",u),P.error("Failed to vote: "+(u instanceof Error?u.message:"Unknown error")),u}},[t,n]),isPending:a,isConfirming:c,isConfirmed:l,error:o,transactionHash:r}}function vt(){const n=S()===E.id,{writeContractAsync:t,isPending:a,error:o,data:r}=j(),{isLoading:c,isSuccess:l}=O({hash:r});return{executeProposal:w.useCallback(async d=>{if(!n)throw new Error("Please connect to Sepolia network to execute proposals");try{const s=await t({abi:B,address:T.address,functionName:"execute",args:[BigInt(d)]});return P.success("Proposal execution submitted!"),s}catch(s){throw console.error("Error executing proposal:",s),P.error("Failed to execute proposal: "+(s instanceof Error?s.message:"Unknown error")),s}},[t]),isPending:a,isConfirming:c,isConfirmed:l,error:o,transactionHash:r}}function Ct(){const n=S()===E.id,{writeContractAsync:t,isPending:a,error:o,data:r}=j(),{isLoading:c,isSuccess:l}=O({hash:r});return{createProposal:w.useCallback(async d=>{if(!n)throw new Error("Please connect to Sepolia network to create proposals");try{const s=Qe(d.amount),u=await t({abi:B,address:T.address,functionName:"propose",args:[d.token,s,d.description,d.proposalType]});return P.success("Proposal transaction submitted!"),u}catch(s){throw console.error("Error creating proposal:",s),P.error("Failed to create proposal: "+(s instanceof Error?s.message:"Unknown error")),s}},[t]),isPending:a,isConfirming:c,isConfirmed:l,error:o,transactionHash:r}}const rt={"0xd093d7331448766923fe7ab270a9f6bce63cefda":{symbol:"USDC",name:"USD Coin",decimals:6,color:"text-blue-400",bgColor:"bg-blue-900/20"},"0x9c3c9283d3e44854697cd22d3faa240cfb032889":{symbol:"WBTC",name:"Wrapped Bitcoin",decimals:8,color:"text-orange-400",bgColor:"bg-orange-900/20"},"0xe5d7c2a44ffddf6b295a15c148167daaaf5cf34f":{symbol:"DLOOP",name:"D-Loop Token",decimals:18,color:"text-purple-400",bgColor:"bg-purple-900/20"}},st=e=>e?e.toLowerCase():"",se=e=>{if(!e)return{symbol:"Unknown",name:"Unknown Token",decimals:18,color:"text-gray",bgColor:"bg-gray/20"};const n=st(e);return rt[n]||{symbol:e.slice(0,6)+"..."+e.slice(-4),name:"Unknown Token",decimals:18,color:"text-gray",bgColor:"bg-gray/20"}},it=(e,n)=>{try{const t=se(n);return(typeof e=="bigint"?Number(e)/Math.pow(10,t.decimals):Number(e)).toLocaleString(void 0,{minimumFractionDigits:0,maximumFractionDigits:2})}catch(t){return console.error("Error formatting token amount:",t),"0"}},xt=(e,n)=>{const t=it(e,n),{symbol:a}=se(n);return`${t} ${a}`};var _="Switch",[ct,Nt]=Ee(_),[ut,lt]=ct(_),ie=w.forwardRef((e,n)=>{const{__scopeSwitch:t,name:a,checked:o,defaultChecked:r,required:c,disabled:l,value:i="on",onCheckedChange:d,form:s,...u}=e,[p,b]=w.useState(null),m=ae(n,f=>b(f)),y=w.useRef(!1),v=p?s||!!p.closest("form"):!0,[h,g]=Ae({prop:o,defaultProp:r??!1,onChange:d,caller:_});return C.jsxs(ut,{scope:t,checked:h,disabled:l,children:[C.jsx(oe.button,{type:"button",role:"switch","aria-checked":h,"aria-required":c,"data-state":de(h),"data-disabled":l?"":void 0,disabled:l,value:i,...u,ref:m,onClick:Me(e.onClick,f=>{g(A=>!A),v&&(y.current=f.isPropagationStopped(),y.current||f.stopPropagation())})}),v&&C.jsx(le,{control:p,bubbles:!y.current,name:a,value:i,checked:h,required:c,disabled:l,form:s,style:{transform:"translateX(-100%)"}})]})});ie.displayName=_;var ce="SwitchThumb",ue=w.forwardRef((e,n)=>{const{__scopeSwitch:t,...a}=e,o=lt(ce,t);return C.jsx(oe.span,{"data-state":de(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:n})});ue.displayName=ce;var dt="SwitchBubbleInput",le=w.forwardRef(({__scopeSwitch:e,control:n,checked:t,bubbles:a=!0,...o},r)=>{const c=w.useRef(null),l=ae(c,r),i=De(t),d=Fe(n);return w.useEffect(()=>{const s=c.current;if(!s)return;const u=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==t&&b){const m=new Event("click",{bubbles:a});b.call(s,t),s.dispatchEvent(m)}},[i,t,a]),C.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...o,tabIndex:-1,ref:l,style:{...o.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});le.displayName=dt;function de(e){return e?"checked":"unchecked"}var pe=ie,pt=ue;const ft=w.forwardRef(({className:e,...n},t)=>C.jsx(pe,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...n,ref:t,children:C.jsx(pt,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ft.displayName=pe.displayName;export{ft as S,se as a,wt as b,kt as c,vt as d,xt as e,Ct as f,ht as g,V as u};
